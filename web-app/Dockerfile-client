FROM debian:bookworm-slim
RUN apt-get update && apt-get -y install yarnpkg=1.22.10+~cs22.25.14-8 python3=3.9.7-1 make g++
COPY client/ client/
WORKDIR client/
RUN yarnpkg global add node-gyp --ignore-engines
RUN yarnpkg
ENTRYPOINT ["yarnpkg", "start"]